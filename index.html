!DOCTYPE html
html lang=zh-CN
head
    meta charset=UTF-8
    meta name=viewport content=width=device-width, initial-scale=1.0
    title我的百岁人生 - Life Gridtitle
    style
        root {
            --bg-color #f5f7fa;
            --grid-past #e0e0e0;      过去日子的默认颜色 
            --grid-future #ffffff;    未来的颜色 
            --grid-border #dcdcdc;
            --mood-happy #ffd700;     开心：黄色 
            --mood-hard #808080;      艰难：深灰 
            --mood-normal #e0e0e0;    平淡：默认灰 
            --text-primary #2c3e50;
            --accent-color #3498db;
        }

        body {
            font-family 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color var(--bg-color);
            color var(--text-primary);
            margin 0;
            padding 20px;
            display flex;
            flex-direction column;
            align-items center;
        }

        .container {
            max-width 1000px;
            width 100%;
            background white;
            padding 30px;
            border-radius 12px;
            box-shadow 0 4px 20px rgba(0,0,0,0.05);
        }

         头部区域 
        header {
            text-align center;
            margin-bottom 40px;
        }

        h1 { margin 0 0 10px 0; font-weight 300; letter-spacing 2px; }
        
        .config-area {
            margin-top 20px;
            display flex;
            justify-content center;
            align-items center;
            gap 10px;
        }

        input[type=date] {
            padding 8px;
            border 1px solid #ddd;
            border-radius 4px;
            font-size 14px;
        }

         仪表盘 
        .dashboard {
            display grid;
            grid-template-columns repeat(auto-fit, minmax(200px, 1fr));
            gap 20px;
            margin-bottom 40px;
            text-align center;
        }

        .stat-card {
            background #f8f9fa;
            padding 20px;
            border-radius 8px;
        }
        
        .stat-value { font-size 24px; font-weight bold; color var(--text-primary); }
        .stat-label { font-size 12px; color #7f8c8d; margin-top 5px; }
        .highlight { color var(--accent-color); }

         网格核心区 
        .life-grid {
            display grid;
             52列代表一年52周 
            grid-template-columns repeat(52, 1fr); 
            gap 3px;
            margin-top 20px;
        }

         每一个小方格 
        .week-box {
            aspect-ratio 1;
            background-color var(--grid-future);
            border 1px solid var(--grid-border);
            border-radius 2px;
            cursor pointer;
            position relative;
            transition transform 0.1s;
        }

        .week-boxhover { transform scale(1.5); z-index 10; border-color #999; }
        
         状态样式 
        .week-box.past { background-color var(--grid-past); border-color transparent; }
        .week-box.happy { background-color var(--mood-happy); }
        .week-box.hard { background-color var(--mood-hard); }

         弹窗样式 
        .modal {
            display none;
            position fixed;
            top 0; left 0; width 100%; height 100%;
            background rgba(0,0,0,0.5);
            justify-content center;
            align-items center;
            z-index 1000;
        }
        .modal-content {
            background white;
            padding 30px;
            border-radius 12px;
            width 90%;
            max-width 400px;
        }
        .modal h3 { margin-top 0; }
        
        textarea {
            width 100%;
            height 100px;
            margin 15px 0;
            padding 10px;
            border 1px solid #ddd;
            border-radius 4px;
            resize vertical;
        }

        .emotion-selector {
            display flex;
            gap 15px;
            margin-bottom 20px;
        }
        
        .btn {
            background var(--text-primary);
            color white;
            border none;
            padding 10px 20px;
            border-radius 4px;
            cursor pointer;
        }
        .btn-cancel { background #95a5a6; margin-right 10px; }

         提示信息 
        .tooltip-info {
            font-size 12px;
            color #666;
            margin-top 10px;
            text-align center;
        }
    style
head
body

div class=container
    header
        h1LIFE GRIDh1
        div class=config-area
            label你的出生日期：label
            input type=date id=dobInput
        div
    header

    div class=dashboard id=dashboard style=displaynone;
        div class=stat-card
            div class=stat-value id=weeksLived0div
            div class=stat-label已度过的人生 (周)div
        div
        div class=stat-card
            div class=stat-value id=sleepHours0div
            div class=stat-label已睡了多久 (小时)div
        div
        div class=stat-card
            div class=stat-value highlight id=lifeClock0000div
            div class=stat-label人生时钟 (假设100岁是24小时)div
        div
        div class=stat-card
            div class=stat-value id=progressPct0%div
            div class=stat-label百岁人生进度div
        div
    div

    div class=tooltip-info id=gridTip请先设置出生日期div
    
    div class=life-grid id=gridContainerdiv
div

div class=modal id=noteModal
    div class=modal-content
        h3 id=modalTitle第 X 周h3
        p style=font-size12px; color#666;这周发生了什么值得记住的事？p
        
        textarea id=weekNote placeholder=记录下这个瞬间...textarea
        
        div class=emotion-selector
            labelinput type=radio name=mood value=normal checked 平淡(灰)label
            labelinput type=radio name=mood value=happy 开心(黄)label
            labelinput type=radio name=mood value=hard 艰难(深灰)label
        div

        div style=text-align right;
            button class=btn btn-cancel onclick=closeModal()取消button
            button class=btn onclick=saveWeekData()保存记录button
        div
    div
div

script
     配置：100岁
    const TOTAL_YEARS = 100;
    const WEEKS_PER_YEAR = 52;
    const TOTAL_WEEKS = TOTAL_YEARS  WEEKS_PER_YEAR;

    const dobInput = document.getElementById('dobInput');
    const gridContainer = document.getElementById('gridContainer');
    const modal = document.getElementById('noteModal');
    let currentSelectedWeek = null;

     数据存储结构：key=weekIndex, value={note , mood }
    let lifeData = JSON.parse(localStorage.getItem('lifeData'))  {};

     初始化
    function init() {
        const savedDob = localStorage.getItem('lifeDob');
        if (savedDob) {
            dobInput.value = savedDob;
            renderLife();
        }
        
        dobInput.addEventListener('change', () = {
            localStorage.setItem('lifeDob', dobInput.value);
            renderLife();
        });
    }

     核心渲染函数
    function renderLife() {
        const dob = new Date(dobInput.value);
        if (isNaN(dob.getTime())) return;

        const now = new Date();
        const diffTime = Math.abs(now - dob);
        const daysLived = Math.ceil(diffTime  (1000  60  60  24));
        const weeksLived = Math.floor(daysLived  7);

         更新仪表盘
        document.getElementById('dashboard').style.display = 'grid';
        document.getElementById('weeksLived').innerText = weeksLived.toLocaleString();
        document.getElementById('sleepHours').innerText = (daysLived  8).toLocaleString();  假设睡8小时
        document.getElementById('progressPct').innerText = ((weeksLived  TOTAL_WEEKS)  100).toFixed(1) + '%';
        document.getElementById('gridTip').innerText = '每一行代表1年，每一格代表1周。点击格子记录你的故事。';
        
         计算人生时钟
        const lifePercent = daysLived  (TOTAL_YEARS  365.25); 
        const totalMinutes = 24  60; 
        const currentMinutes = totalMinutes  lifePercent;
        const clockHours = Math.floor(currentMinutes  60);
        const clockMins = Math.floor(currentMinutes % 60);
        const timeStr = `${String(clockHours).padStart(2, '0')}${String(clockMins).padStart(2, '0')}`;
        document.getElementById('lifeClock').innerText = timeStr;

         生成格子
        gridContainer.innerHTML = '';
        
        for (let i = 0; i  TOTAL_WEEKS; i++) {
            const div = document.createElement('div');
            div.classList.add('week-box');
            
             样式逻辑
            if (i  weeksLived) {
                div.classList.add('past');  过去的时间
                
                 检查是否有记录
                if (lifeData[i]) {
                    if (lifeData[i].mood === 'happy') div.classList.add('happy');
                    if (lifeData[i].mood === 'hard') div.classList.add('hard');
                    div.title = lifeData[i].note;  鼠标悬停显示笔记
                }
            }
            
             点击事件
            div.onclick = () = openModal(i, i  weeksLived);
            
            gridContainer.appendChild(div);
        }
    }

     打开弹窗
    function openModal(weekIndex, isPast) {
         如果是未来，也可以记录，或者你可以限制只能记录过去
        currentSelectedWeek = weekIndex;
        const year = Math.floor(weekIndex  52);
        const week = weekIndex % 52 + 1;
        
        document.getElementById('modalTitle').innerText = `${year}岁 · 第 ${week} 周`;
        
         加载已有数据
        const data = lifeData[weekIndex]  { note '', mood 'normal' };
        document.getElementById('weekNote').value = data.note;
        
         设置单选框
        const radios = document.getElementsByName('mood');
        for (let r of radios) {
            if (r.value === data.mood) r.checked = true;
        }

        modal.style.display = 'flex';
    }

    function closeModal() {
        modal.style.display = 'none';
    }

    function saveWeekData() {
        const note = document.getElementById('weekNote').value;
        const radios = document.getElementsByName('mood');
        let mood = 'normal';
        for (let r of radios) {
            if (r.checked) mood = r.value;
        }

         保存到内存
        lifeData[currentSelectedWeek] = { note, mood };
        
         保存到本地存储
        localStorage.setItem('lifeData', JSON.stringify(lifeData));
        
        closeModal();
        renderLife();  重新渲染以更新颜色
    }

     点击弹窗外部关闭
    window.onclick = function(event) {
        if (event.target == modal) {
            closeModal();
        }
    }

    init();
script

body
html